<!-- This is a snippet, not an entire file. To implement Chronologicon on your own site, you only need the code below in the <body> of your page. -->

<!-- AJAX needs jQuery, but nothing else on the site does, so it's only loaded on this page from within the body. This is absolutely not the best way to solve this problem. -->
<script type="text/javascript" src="/jquery.js"></script>

<form action="/chronologicon.php" method="post" class="chronologicon form" id="chron_form">
    <input type="text" id="chron_disc" name="disc" placeholder='Discipline' tabindex="2"/>
    <input type="text" id="chron_proj" name="proj" placeholder='Project' tabindex="3"/>
    <input type="text" id="chron_date" name="date" placeholder='Date' tabindex="4" maxlength="6"/>
    <input type="text" id="chron_hour" name="hour" placeholder='Hour' tabindex="5" maxlength="2"/>
    <input type="password" id="chron_pass" name="pass" placeholder='Password' tabindex="6"/>
    <input type="submit" value="Log Data" id="submit">
</form>

<div id="chron_output"></div>

<script type="text/javascript">
    $('#chron_form').submit(function(e) {
    
        e.preventDefault();
        var $form = $(this);
        var data = $form.serialize();
            
        $.ajax({
            url: $form.attr("action"),
            type: $form.attr("method"),
            data: data,
            success: function(msg)
            {
                if(msg) {
                    document.getElementById('chron_output').innerHTML = "<p>" + msg + "</p>";
                } else {
                    document.getElementById('chron_output').innerHTML = "<p>Data log submitted.</p>";
                }
            }               
        });
    });
</script>
